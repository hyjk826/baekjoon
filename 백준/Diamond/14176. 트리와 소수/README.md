# [Diamond III] 트리와 소수 - 14176 

[문제 링크](https://www.acmicpc.net/problem/14176) 

### 성능 요약

메모리: 19324 KB, 시간: 736 ms

### 분류

centroid(centroid), 센트로이드 분할(centroid_decomposition), 조합론(combinatorics), 분할 정복(divide_and_conquer), 고속 푸리에 변환(fft), 수학(math), 정수론(number_theory), 소수 판정(primality_test), 에라토스테네스의 체(sieve), 트리(trees)

### 문제 설명

<p>트리가 주어진다. 서로 다른 두 노드를 균일한 확률로 선택했을 때, 두 노드 사이의 거리가 소수일 확률은 어떻게 될까?</p>

### 입력 

 <p>첫째 줄에 노드의 개수 N이 주어지고, 다음 N-1개 줄에는 트리 상에서 연결된 두 정점이 주어진다. (2 ≤ N ≤ 100,000)</p>

### 출력 

 <p>서로 다른 두 노드를 균일한 확률로 선택했을 때, 두 노드 사이의 거리가 소수일 확률을 출력한다. 절대/상대 오차는 10<sup>-6</sup>까지 허용한다.</p>


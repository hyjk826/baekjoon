# [Diamond III] 트리와 소수 - 13854 

[문제 링크](https://www.acmicpc.net/problem/13854) 

### 성능 요약

메모리: 11936 KB, 시간: 340 ms

### 분류

centroid(centroid), 센트로이드 분할(centroid_decomposition), 조합론(combinatorics), 분할 정복(divide_and_conquer), 고속 푸리에 변환(fft), 수학(math), 정수론(number_theory), 소수 판정(primality_test), 에라토스테네스의 체(sieve), 트리(trees)

### 문제 설명

<p>N(2 ≤ N ≤ 50,000)개의 정점으로 이루어진 트리가 주어진다. 트리의 각 정점은 1번부터 N번까지 번호가 매겨져 있다.</p>

<p>서로 다른 두 개의 정점을 균일한 확률로 랜덤하게 선택했을 때, 거리가 소수일 확률은 몇일까?</p>

### 입력 

 <p>첫째 줄에 노드의 개수 N이 주어지고, 다음 N-1개 줄에는 트리 상에서 연결된 두 정점이 주어진다.</p>

### 출력 

 <p>서로 다른 두 개의 정점을 균일한 확률로 랜덤하게 선택했을 때, 거리가 소수일 확률을 출력한다. 절대/상대 오차는 10<sup>-6</sup>까지 허용한다.</p>


# [Gold IV] 햄버거최대 몇개드실수있나요? - 27923 

[문제 링크](https://www.acmicpc.net/problem/27923) 

### 성능 요약

메모리: 3592 KB, 시간: 64 ms

### 분류

그리디 알고리즘, 정렬, 누적 합, 슬라이딩 윈도우

### 문제 설명

<p>지훈이는 자신이 햄버거를 한 번에 얼마나 먹을 수 있는지, ‘햄최몇’을 측정하기로 했다. 한 번에 햄버거 $4$개를 먹을 수 있다면 ’햄최$4$’, $30$개를 먹을 수 있다면 ’햄최$30$’이라 부른다. 보통 햄최몇을 측정할 때는 한 종류의 햄버거만 먹지만, 지훈이는 한 가지만 계속 먹으면 질리기 때문에 다양한 햄버거를 먹으면서 햄최몇을 측정하기로 했다.</p>

<p>지훈이가 준비한 햄버거는 총 $N$개이고, 먹었을 때 각 햄버거의 질량만큼 위 속 질량이 늘어난다. 준비한 햄버거를 원하는 순서로 먹을 수 있지만, 햄버거를 먹는 동안 항상 위 속 질량이 지훈이의 위의 용량보다 크지 않아야 한다.</p>

<p>또, 햄버거만 계속 먹으면 물리기 때문에 지훈이는 $K$개의 콜라를 마시려고 한다. 각 콜라는 지훈이가 미리 정해 놓은 시점에, 햄버거를 먹기 직전에 마신다. 콜라를 마시면 그 후 햄버거 $L$개를 먹을 동안 ‘콜라 효과’를 얻을 수 있고, 콜라 효과는 중첩될 수 있다. 콜라 효과가 지속되는 동안 지훈이가 햄버거를 먹으면, 먹음과 동시에 그 햄버거의 질량에 비례해 위 속 질량이 소화되어 사라진다! 구체적으로, <strong>질량이 $m$인 햄버거를 콜라 효과가 $C$번 중첩되었을 때 먹었다면 $\lfloor \frac{m}{2^C} \rfloor$만큼만 위 속 질량이 증가한다.</strong> 이때, 실수 $x$에 대하여 $\lfloor x\rfloor$는 $x$보다 크지 않은 가장 큰 정수를 의미한다.</p>

<p>지훈이는 자신이 생각한 햄최몇보다 많은 햄버거를 준비했지만, 음식을 남기면 아깝기 때문에 햄버거를 다 먹고 싶어졌다! 햄버거를 먹는 순서를 적절히 설정하여 지훈이가 준비한 햄버거를 다 먹기 위해 필요한 위의 용량의 최솟값을 계산하자. 지훈이는 충분히 굶은 상태이기 때문에, 현재 위 속 질량은 $0$이다.</p>

### 입력 

 <p>첫 번째 줄에 준비한 햄버거의 개수 $N$, 콜라의 개수 $K$, 콜라 효과의 지속 시간 $L$이 공백으로 구분되어 주어진다. $(1\leq N, K, L\leq 200\ 000)$</p>

<p>두 번째 줄에 각 햄버거의 질량을 나타내는 $N$개의 정수 $m_1,m_2,...,m_N$이 공백으로 구분되어 주어진다. $(1\leq m_i\leq 10^9)$</p>

<p>세 번째 줄에 콜라를 마시는 시기를 나타내는 $K$개의 정수 $t_1,t_2,...,t_K$이 공백으로 구분되어 주어진다. $i$번째 콜라는 $t_i$번째로 햄버거를 먹기 직전에 마신다. $(1\leq t_i\leq N)$</p>

### 출력 

 <p>준비한 햄버거를 모두 먹기 위해 필요한 위의 용량의 최솟값을 출력한다.</p>

